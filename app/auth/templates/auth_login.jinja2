{% extends  extension or "home_layout.jinja2" %}
{% block layout %}
<div class="max-w-md mx-auto py-4 sm:max-w-sm">
  <h1 class="text-3xl font-semibold text-center text-gray-600 mb-6">Log In</h1>
    <!-- Hidden field for path -->
    <h1>path {{path}} </h1>

  <form method="POST" action="/login" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
    {{ form.csrf_token }}
    {{ form.next }}

    <fieldset required type="email" class='block text-gray-700 text-sm font-bold mb-2' id="user_email">
      {{ form.user_email.label }}
      {{ form.user_email(class='shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline', placeholder='John Smith') }}
      {% if form.user_email.errors %}
        <ul class="text-red-500 text-xs italic">
          {% for error in form.user_email.errors %}
            <li>{{ error }}</li>{% endfor %}
        </ul>
      {% endif %}
    </fieldset>

    <fieldset required type="password" class="mb-4" id="user_password">
      {{ form.user_password.label(class='block text-gray-700 text-sm font-bold mb-2') }}
      {{ form.user_password(class='shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline') }}
      {% if form.user_password.errors %}
        <ul class="text-red-500 text-xs italic">
          {% for error in form.user_password.errors %}
            <li>{{ error }}</li>{% endfor %}
        </ul>
      {% endif %}
    </fieldset>

    {% if get_flashed_messages() %}
      <div class="bg-yellow-200 border-yellow-600 text-yellow-800 border-l-4 p-4 mb-4">
        {{ get_flashed_messages()[-1] }}
      </div>
    {% endif %}

    <div class="flex items-center justify-between">
      {{ form.submit_button(class='bg-black hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline') }}
    </div>

  </form>
  <div class="text-center text-sm text-gray-600 mt-4">
    <a class="text-gray-600 hover:text-gray-200" href="{{ url_for('auth.signup') }}"><span>Don't have an account?</span>Sign up.</a>
  </div>

  <div class="text-center text-sm text-gray-600 mt-4">
    <span><a class="text-gray-600 hover:text-gray-200" href="/close">Exit</a></span>
  </div>
</div>
{% endblock %}
